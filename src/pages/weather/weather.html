<!--
  Generated template for the Weather page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar *navbar>
    <ion-title>Weather</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding class="page-weather">
  <ion-grid *ngIf="weather">
    <ion-row>
      <ion-col width-100>
        <ion-list> 
          <ion-item>
            <ion-label fixed>Enter city...</ion-label>
            <ion-input type="text" value="" placeholder="Enter City, Country etc" (keyup)="searchWeather()" [(ngModel)]="searchString"></ion-input> 
          </ion-item>
        </ion-list>
        <ion-list>
          <ion-item *ngFor="let result of searchResults">
            <span (click)="chooseCity(result)">{{result.name}}</span>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col width-50 offset-25>
        <h2 class="location">{{weather.display_location.full}}</h2>
        <div class="icon"><img src="{{weather.icon_url}}" alt=""></div>
        <h3 class="desc">{{weather.weather}}</h3>
        <h1 class="temp">{{weather.temp_c}}&deg;</h1>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col width-100>
        <ion-list>
          <ion-item>
            <strong>Temp: </strong>{{weather.temperature_string}}
          </ion-item>  
          <ion-item>
            <strong>Relative Humidity: </strong>{{weather.relative_humidity}}
          </ion-item>
          <ion-item>
            <strong>Dewpoint: </strong>{{weather.dewpoint_string}}
          </ion-item>
          <ion-item>
            <strong>Visibility: </strong>{{weather.visibility_km}}km
          </ion-item>
          <ion-item>
            <strong>Wind: </strong>{{weather.wind_kph}}km/h
          </ion-item>
          <ion-item>
            <strong>Wind direction: </strong>{{weather.wind_dir}}
          </ion-item>
          <ion-item>
            <strong>Heat Index: </strong>{{weather.heat_index_c}}
          </ion-item>          
        </ion-list>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col width-50 offset-25>
          <h3>Forecast for 10 days</h3>
        </ion-col>
      <ion-slides>
        <ion-slide *ngFor="let forecast10Day of forecast10Days">
          <div class="icon"><img src="{{forecast10Day.icon_url}}" alt=""></div>
          <p>{{forecast10Day.date.day}} {{forecast10Day.date.monthname}} {{forecast10Day.date.weekday}}</p>
          <p>{{forecast10Day.conditions}}</p>
          <p>Min:{{forecast10Day.low.celsius}}&deg; Max:{{forecast10Day.high.celsius}}&deg;</p>
        </ion-slide>
      </ion-slides>
    </ion-row>
  </ion-grid>
</ion-content>